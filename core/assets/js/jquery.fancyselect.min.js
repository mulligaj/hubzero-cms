(function(e,t,n,r){function u(t,n){var r=e('<ul class="'+n+'"></ul>');t.each(function(t,n){var i=e(n);if(i.is("option")){r.append(a(i))}else if(i.is("optgroup")){r.append(f(i))}});return r}function a(t){var n=e('<li class="fs-dropdown-option"></li>').append(e('<a href="javascript:void(0);"></a>').attr("data-value",t.val()).attr("data-text",t.text()).attr("data-img",t.attr("data-img")).attr("data-color",t.attr("data-color")).append(l(t)).append(e("<span>"+t.text()+"</span>")));e.each(e(t).data(),function(e,t){if(e!="color"&&e!="img"){n.find("a").attr("data-"+e,t)}});return n}function f(e){var t=u(e.children("option"),"fs-dropdown-options-group");t.prepend('<li class="fs-dropdown-label">'+e.attr("label")+"</li>");return t}function l(t){var n=e(t),i=n.attr("data-img"),s=n.attr("data-color");if(i!=""&&i!=r){return'<img class="fs-option-image" src="'+i+'" />'}if(s!=""&&s!=r){return'<div class="fs-option-color" style="background-color:'+s+'"></div>'}return""}function c(t){var n="",r=e(t).data("fancyselect"),i=e("#fs-dropdown-"+r.id);i.on("click",".fs-dropdown-selected-item",function(n){n.preventDefault();if(!e(t).attr("readonly")){if(i.hasClass("fs-dropdown-open")){p(t)}else{h(t)}}});i.on("click",".fs-dropdown-option a",function(n,s){n.preventDefault();s=s!=null?s:true;var o=e(this),u=o.attr("data-value"),a=o.attr("data-text"),f=o.attr("data-img");e(this).parents(".fs-dropdown-options").find("li").removeClass("fs-dropdown-option-selected");e(this).parent("li").addClass("fs-dropdown-option-selected fs-dropdown-option-highlighted");i.find(".fs-dropdown-selected-item span").text(a);i.find(".fs-dropdown-selected-item .fs-option-image").remove();i.find(".fs-dropdown-selected-item .fs-option-color").remove();i.find(".fs-dropdown-selected-item").prepend(l(o));i.next("select").val(u).trigger("change");if(typeof r.settings.onSelected=="function"&&s){r.settings.onSelected.call(this,r,{value:u,text:a,image:f})}p(t)}).on("keyup",".fs-dropdown-options-search input",function(n){var r=e(this).val();s.filterOptions.call(t,r)}).on("keydown",function(r){var i=r.keyCode;if(e(".fs-dropdown-open").length){var o=e(".fs-dropdown-open li").find(".fs-dropdown-option-highlighted");if(i==38||i==40){r.preventDefault();e(".fs-dropdown-open li").removeClass("fs-dropdown-option-highlighted");if(i==38){var u=o.prev("li");if(!u.length){u=e(".fs-dropdown-open .fs-dropdown-options li").first()}u.addClass("fs-dropdown-option-highlighted")}else{var a=o.next("li");if(!a.length){a=e(".fs-dropdown-open li").last()}a.addClass("fs-dropdown-option-highlighted")}}else if(i==13){r.preventDefault();var f=e(".fs-dropdown-open").find("li.fs-dropdown-option-highlighted");if(f.length){var l=f.find("a").attr("data-value");s.selectValue.call(t,l,true)}}}else if(i==40){h(t)}else{var c=e(this).find(".fs-dropdown-options li");n+=String.fromCharCode(r.keyCode);c.each(function(r){var i=e(this).find("a span").text();if(n==i){s.selectValue.call(t,n,true)}});setTimeout(function(){n=""},2e3)}}).on("blur",function(e){p(t)});e("body").on("click",function(e){if(e.target.nodeName.toLowerCase()!="input"){d()}})}function h(t){var n=t.data("fancyselect");d();var r=e("#fs-dropdown-"+n.id),i=r.find(".fs-dropdown-options-container");i.hide().css("left","0").slideDown(100,function(){r.addClass("fs-dropdown-open")})}function p(t){var n=t.data("fancyselect"),r=e("#fs-dropdown-"+n.id),i=r.find(".fs-dropdown-options-container");i.slideUp(50,function(){r.removeClass("fs-dropdown-open");e(this).css("left","-9999px");s.filterReset.call(t)})}function d(){e(".fs-dropdown-open").each(function(){p(e(this).next("select"))})}var i=0;e.fn.HUBfancyselect=function(t){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return s.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};var s={},o={hideSelect:true,showSearch:false,searchPlaceholder:"Search...",maxHeightWithSearch:500,onSearch:function(){},onSelected:function(){}};s.init=function(t){var n=e.extend({},o,t);return this.each(function(){var t=e(this),r="",o=t.children();if(!t.is("select")){return"Must be <select> element"}i++;t.data("fancyselect",{id:i,settings:n});var a=t.attr("readonly");var f=t.attr("tabIndex");var l="";if(f){t.attr("tabIndex",-f);l='tabIndex="'+f+'"'}r=e("<div "+l+' class="fs-dropdown '+a+'" id="fs-dropdown-'+t.data("fancyselect").id+'"></div>').append(e("<ul></ul>").append(e('<li class="fs-dropdown-selected"></li>').append(e('<a href="" class="fs-dropdown-selected-item"><span>&nbsp;</span></a>')).append(e('<div class="fs-dropdown-options-container"></div>').append(u(o,"fs-dropdown-options")))));if(n.showSearch){r.find(".fs-dropdown-options-container").prepend(e('<div class="fs-dropdown-options-search"></div>').append(e('<input type="text" placeholder="'+n.searchPlaceholder+'" />'))).find(".fs-dropdown-options").css("max-height",n.maxHeightWithSearch)}t.before(r);c(t);if(n.hideSelect){t.hide()}s.selectValue.call(t,t.find("option:selected").val(),false)})};s.selectValue=function(t,n){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find('.fs-dropdown-option a[data-value="'+t+'"]').trigger("click",n)})};s.selectText=function(t,n){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a span:contains("+t+")").parent("a").trigger("click",n)})};s.clear=function(){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a").first().trigger("click")})};s.filterOptions=function(t){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option").hide();e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option a[data-value!='']:caseInsensitiveContains(\""+t+'")').parents("li").show();if(t==""){s.filterReset.call(e(this))}e("#fs-dropdown-"+e(this).data("fancyselect").id+" .fs-dropdown-option:visible a span").unhighlight();e("#fs-dropdown-"+e(this).data("fancyselect").id+" .fs-dropdown-option:visible a span").highlight(t)})};s.filterReset=function(){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a span").unhighlight();e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option").show();e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-options-search input").val("")})};jQuery.expr[":"].caseInsensitiveContains=function(e,t,n){return(e.textContent||e.innerText||"").toUpperCase().indexOf(n[3].toUpperCase())>=0}})(jQuery,window,document);jQuery.extend({highlight:function(e,t,n,r){if(e.nodeType===3){var i=e.data.match(t);if(i){var s=document.createElement(n||"span");s.className=r||"highlight";var o=e.splitText(i.index);o.splitText(i[0].length);var u=o.cloneNode(true);s.appendChild(u);o.parentNode.replaceChild(s,o);return 1}}else if(e.nodeType===1&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&!(e.tagName===n.toUpperCase()&&e.className===r)){for(var a=0;a<e.childNodes.length;a++){a+=jQuery.highlight(e.childNodes[a],t,n,r)}}return 0}});jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};jQuery.extend(t,e);return this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this);e.normalize()}).end()};jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:false,wordsOnly:false};jQuery.extend(n,t);if(e.constructor===String){e=[e]}e=jQuery.grep(e,function(e,t){return e!=""});e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});if(e.length==0){return this}var r=n.caseSensitive?"":"i";var i="("+e.join("|")+")";if(n.wordsOnly){i="\\b"+i+"\\b"}var s=new RegExp(i,r);return this.each(function(){jQuery.highlight(this,s,n.element,n.className)})}